{"version":3,"sources":["component/Header/Header.jsx","component/Header/index.js","component/Footer/Footer.jsx","component/Footer/index.js","component/Goods-item-list/Goods-list-item.jsx","component/Goods-item-list/index.js","component/Goods-list/Goods-list.jsx","component/Goods-list/index.js","component/Preloader/Preloader.js","component/Preloader/index.js","component/Cart/Cart.jsx","component/Cart/index.js","component/Basket-item/Basket-item.jsx","component/Basket-item/index.js","component/Basket-list/Basket-list.jsx","component/Basket-list/index.js","component/Alert/Alert.jsx","component/Alert/index.js","config.js","main/main.js","main/index.js","component/App/App.js","index.js"],"names":["Header","className","fill","Footer","GoodsListItem","props","id","name","description","price","full_background","addToBasket","Function","prototype","src","alt","onClick","GoodsList","goods","length","map","item","Preloader","role","Cart","quantity","handleBasketShow","BasketItem","removeFromBasket","incQuantity","decQuantity","BasketList","order","totalPrice","reduce","sum","el","tabIndex","type","Alert","closeAlert","useEffect","timerId","setTimeout","console","log","clearTimeout","process","Main","useState","setGoods","loading","setLoading","setOrder","isBasketShow","setBasketSow","alertName","setAlertName","fetch","headers","Authorization","then","response","json","data","featured","itemIndex","findIndex","orderItem","newItem","newOrder","index","itemId","filter","newQuantity","App","ReactDOM","render","document","getElementById"],"mappings":"yLAeeA,ICbAA,EDCf,WACI,OACI,qBAAKC,UAAU,+BAAf,SACI,sBAAKA,UAAU,eAAf,UACI,mBAAGA,UAAU,yBAAyBC,KAAK,iBAC3C,oBAAID,UAAU,OAAd,8BEYDE,IClBAA,EDAf,WACI,OACI,sBAAKF,UAAU,eAAf,UACI,sBAAKA,UAAU,cAAf,UACI,mBAAGA,UAAU,yBAAyBC,KAAK,iBAD/C,gBAIA,sBAAKD,UAAU,YAAf,UACI,oBAAIA,UAAU,aAAd,qCACA,mBAAGA,UAAU,YAAb,uFAGJ,qBAAKA,UAAU,yBAAf,mC,qBEgBGG,IC5BAA,EDAf,SAAuBC,GACnB,IACIC,EAMAD,EANAC,GACAC,EAKAF,EALAE,KACAC,EAIAH,EAJAG,YACAC,EAGAJ,EAHAI,MACAC,EAEAL,EAFAK,gBALJ,EAOIL,EADAM,mBANJ,MAMkBC,SAASC,UAN3B,EAQA,OACA,sBAAKZ,UAAU,OAAf,UACI,qBAAKa,IAAKJ,EAAiBT,UAAU,WAAYc,IAAKR,IAClD,sBAAKN,UAAU,YAAf,UACI,oBAAIA,UAAU,aAAd,SAA4BM,IAC5B,mBAAGN,UAAU,YAAb,SAA0BO,IAC1B,qBAAIP,UAAU,YAAd,UAA2BQ,EAA3B,UACA,wBAAQO,QAAS,kBACLL,EAAY,CACRL,KACAC,OACAE,WAEdR,UAAU,kBANZ,wBEEDgB,IClBAA,EDEf,SAAmBZ,GACf,MAAwDA,EAAjDa,aAAP,MAAe,GAAf,IAAwDb,EAArCM,mBAAnB,MAAiCC,SAASC,UAA1C,EAEA,OAAIK,EAAMC,OAIP,qBAAKlB,UAAU,QAAf,SACKiB,EAAME,KAAI,SAACC,GAAD,OACP,cAAC,EAAD,2BAAiCA,GAAjC,IAAuCV,YAAaA,IAAhCU,EAAKf,SALzB,2EEIAgB,ICVAA,EDAf,WACI,OACI,sBAAKrB,UAAU,6BAAf,UACI,yFACA,qBAAKA,UAAU,yBAAyBsB,KAAK,SAAS,cAAY,aEM/DC,ICVAA,EDAf,SAAcnB,GACV,MAA8DA,EAAvDoB,gBAAP,MAAkB,EAAlB,IAA8DpB,EAAzCqB,wBAArB,MAAwCd,SAASC,UAAjD,EAEA,OACI,sBAAKZ,UAAU,OAAOe,QAASU,EAA/B,UACI,mBAAGzB,UAAU,gBACZwB,EAAW,sBAAMxB,UAAU,gBAAhB,SAAiCwB,IAAmB,SEuC7DE,IC9CAA,EDEf,SAAoBtB,GAChB,IACIC,EAOAD,EAPAC,GACAC,EAMAF,EANAE,KACAE,EAKAJ,EALAI,MACAgB,EAIApB,EAJAoB,SAJJ,EAQIpB,EAHAuB,wBALJ,MAKuBhB,SAASC,UALhC,IAQIR,EAFAwB,mBANJ,MAMkBjB,SAASC,UAN3B,IAQIR,EADAyB,mBAPJ,MAOkBlB,SAASC,UAP3B,EASA,OACI,+BACKN,EAAM,IAGP,mBACIN,UAAU,oBACVe,QAAS,kBAAMc,EAAYxB,MAG1B,IATT,IAUMmB,EAAU,IAIZ,mBACIxB,UAAU,oBACVe,QAAS,kBAAMa,EAAYvB,MAG1B,IAnBT,KAoBOG,EAAQgB,EApBf,uBAuBI,sBAEIT,QAAS,kBAAMY,EAAiBtB,UEiBjCyB,ICtDAA,EDCf,SAAoB1B,GAChB,MAMIA,EALA2B,aADJ,MACY,GADZ,IAMI3B,EAJAqB,wBAFJ,MAEuBd,SAASC,UAFhC,IAMIR,EAHAuB,wBAHJ,MAGuBhB,SAASC,UAHhC,EAIIgB,EAEAxB,EAFAwB,YACAC,EACAzB,EADAyB,YAGEG,EAAaD,EAAME,QAAO,SAACC,EAAKC,GAClC,OAAOD,EAAMC,EAAG3B,MAAQ2B,EAAGX,WAC5B,GAEH,OACA,qBAAKxB,UAAU,QAAQoC,SAAS,KAAhC,SACI,qBAAKpC,UAAU,eAAf,SACI,sBAAKA,UAAU,gBAAf,UACI,sBAAKA,UAAU,eAAf,UACI,oBAAIA,UAAU,cAAd,wDACA,wBAAQe,QAASU,EAAkBY,KAAK,SAASrC,UAAU,YAAY,kBAAgB,QAAQ,aAAW,aAI9G,qBAAKA,UAAU,aAAf,SACI,+BAEC+B,EAAMb,OACHa,EAAMZ,KAAI,SAACC,GAAD,OACN,cAAC,EAAD,aAEIO,iBAAkBA,EAClBC,YAAaA,EACbC,YAAaA,GACTT,GAJCA,EAAKf,OAQlB,2GAEJ,yHACsB2B,EADtB,+BAKJ,qBAAKhC,UAAU,eAAf,SACI,wBAAQqC,KAAK,SAASrC,UAAU,kBAAhC,wEEzBLsC,ICrBAA,EDEf,SAAelC,GACX,MAAuDA,EAA/CE,YAAR,MAAe,GAAf,IAAuDF,EAApCmC,kBAAnB,MAAgC5B,SAASC,UAAzC,EAYA,OAVA4B,qBAAU,WACN,IAAMC,EAAUC,WAAWH,EAAY,KAEvC,OAAO,WACHI,QAAQC,IAAI,SACZC,aAAaJ,MAGlB,CAACnC,IAGA,qBAAKD,GAAG,kBAAR,SACI,sBAAKL,UAAU,QAAf,UAAwBM,EAAxB,4GEdZqC,QAAQC,IAAIE,uCCsHGC,ICzHAA,EDQf,WACI,MAA0BC,mBAAS,IAAnC,mBAAO/B,EAAP,KAAcgC,EAAd,KACA,EAA8BD,oBAAS,GAAvC,mBAAOE,EAAP,KAAgBC,EAAhB,KACA,EAA0BH,mBAAS,IAAnC,mBAAOjB,EAAP,KAAcqB,EAAd,KACA,EAAqCJ,oBAAS,GAA9C,mBAAOK,EAAP,KAAqBC,EAArB,KACA,EAAkCN,mBAAS,IAA3C,mBAAOO,EAAP,KAAkBC,EAAlB,KAiEM/B,EAAmB,WACrB6B,GAAcD,IAmBtB,OAbIb,qBAAU,WACNiB,MDtFQ,yCCsFO,CACXC,QAAS,CACLC,cD1FAb,yCC6FHc,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACG,GACHA,EAAKC,UAAYf,EAASc,EAAKC,UAC/Bb,GAAW,QAEpB,IAGH,uBAAMnD,UAAU,oBAAhB,UACI,cAAC,EAAD,CAAMwB,SAAUO,EAAMb,OAAQO,iBAAkBA,IAC/CyB,EACG,cAAC,EAAD,IAEA,cAAC,EAAD,CAAWjC,MAAOA,EAAOP,YAxFb,SAACU,GACjB,IAAM6C,EAAYlC,EAAMmC,WACpB,SAACC,GAAD,OAAeA,EAAU9D,KAAOe,EAAKf,MAGzC,GAAI4D,EAAY,EAAG,CACf,IAAMG,EAAO,2BACNhD,GADM,IAETI,SAAU,IAEd4B,EAAS,GAAD,mBAAKrB,GAAL,CAAYqC,SACjB,CACH,IAAMC,EAAWtC,EAAMZ,KAAI,SAACgD,EAAWG,GACnC,OAAIA,IAAUL,EACH,2BACAE,GADP,IAEI3C,SAAU2C,EAAU3C,SAAW,IAG5B2C,KAIff,EAASiB,GAEbb,EAAapC,EAAKd,SAkEjB+C,GACG,cAAC,EAAD,CACItB,MAAOA,EACPN,iBAAkBA,EAClBE,iBAnEa,SAAC4C,GACtB,IAAMF,EAAWtC,EAAMyC,QAAO,SAACrC,GAAD,OAAQA,EAAG9B,KAAOkE,KAChDnB,EAASiB,IAkEDzC,YA/DQ,SAAC2C,GACjB,IAAMF,EAAWtC,EAAMZ,KAAI,SAACgB,GACxB,GAAIA,EAAG9B,KAAOkE,EAAQ,CAClB,IAAME,EAActC,EAAGX,SAAW,EAClC,OAAO,2BACAW,GADP,IAEIX,SAAUiD,IAGd,OAAOtC,KAGfiB,EAASiB,IAoDDxC,YAlDQ,SAAC0C,GACjB,IAAMF,EAAWtC,EAAMZ,KAAI,SAACgB,GACxB,GAAIA,EAAG9B,KAAOkE,EAAQ,CAClB,IAAME,EAActC,EAAGX,SAAW,EAClC,OAAO,2BACAW,GADP,IAEIX,SAAUiD,GAAe,EAAIA,EAAc,IAG/C,OAAOtC,KAGfiB,EAASiB,MAyCRd,GAAa,cAAC,EAAD,CAAOjD,KAAMiD,EAAWhB,WAnCvB,WACfiB,EAAa,WEnENkB,MAXf,WAEI,OACI,sBAAK1E,UAAU,MAAf,UACI,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,QCNZ2E,IAASC,OACL,cAAC,EAAD,IACFC,SAASC,eAAe,W","file":"static/js/main.199783e9.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\n\r\nfunction Header() {\r\n    return (\r\n        <nav className=\"navbar navbar-light bg-light\">\r\n            <div className=\"d-flex px-3 \">\r\n                <i className=\"bi bi-square-fill mt-2\" fill=\"currentColor\"></i>\r\n                <h3 className=\"px-2\">React Shop</h3>\r\n            </div>\r\n\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default Header;","import Header from \"./Header\";\r\n\r\nexport default Header;","import React from \"react\";\r\n\r\nfunction Footer(){\r\n    return(\r\n        <div className=\" text-center\">\r\n            <div className=\"card-header\">\r\n                <i className=\"bi bi-square-fill me-1\" fill=\"currentColor\"></i>\r\n                React Shop\r\n            </div>\r\n            <div className=\"card-body\">\r\n                <h5 className=\"card-title\">Special title treatment</h5>\r\n                <p className=\"card-text\">With supporting text below as a natural lead-in to additional content.</p>\r\n\r\n            </div>\r\n            <div className=\"card-footer text-muted\">\r\n                © 2021 Ek-prog\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Footer;","import Footer from \"./Footer\";\r\n\r\nexport default Footer;","import React from \"react\";\r\n\r\nfunction GoodsListItem(props){\r\n    const {\r\n        id,\r\n        name,\r\n        description,\r\n        price,\r\n        full_background,\r\n        addToBasket = Function.prototype\r\n    } = props;\r\n    return(\r\n    <div className=\"card\">\r\n        <img src={full_background} className=\"cart-img\"  alt={name} />\r\n            <div className=\"card-body\">\r\n                <h5 className=\"card-title\">{name}</h5>\r\n                <p className=\"card-text\">{description}</p>\r\n                <h3 className=\"card-text\">{price} RUB</h3>\r\n                <button onClick={()=>\r\n                            addToBasket({\r\n                                id,\r\n                                name,\r\n                                price\r\n                            })\r\n                } className=\"btn btn-primary\">Add</button>\r\n            </div>\r\n    </div>\r\n\r\n    )\r\n}\r\nexport default GoodsListItem;","import GoodsListItem from \"./Goods-list-item\";\r\n\r\nexport default GoodsListItem;","import React from \"react\";\r\nimport GoodsListItem from \"../Goods-item-list\";\r\n\r\n\r\nfunction GoodsList(props){\r\n    const{ goods = [], addToBasket = Function.prototype } = props\r\n\r\n    if(!goods.length){\r\n        return <h3>Nothing here, try again in a few minutes</h3>\r\n    }\r\n    return(\r\n       <div className=\"goods\">\r\n           {goods.map((item)=>(\r\n               <GoodsListItem key={item.id} {...item} addToBasket={addToBasket}/>\r\n           ))}\r\n       </div>\r\n\r\n\r\n    );\r\n}\r\nexport default GoodsList;","import GoodsList from \"./Goods-list\";\r\n\r\nexport default GoodsList;","import React from \"react\";\r\n\r\nfunction Preloader(){\r\n    return (\r\n        <div className=\"d-flex align-items-center \">\r\n            <strong>Загрузка...</strong>\r\n            <div className=\"spinner-border ms-auto\" role=\"status\" aria-hidden=\"true\"></div>\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default Preloader;","import Preloader from \"./Preloader\";\r\n\r\nexport default Preloader;","import React from \"react\";\r\n\r\nfunction Cart(props){\r\n    const {quantity = 0, handleBasketShow = Function.prototype} = props;\r\n\r\n    return(\r\n        <div className=\"cart\" onClick={handleBasketShow}>\r\n            <i className=\"bi bi-cart3\"></i>\r\n            {quantity ? <span className=\"cart-quantity\">{quantity}</span> : null}\r\n        </div>\r\n    )\r\n}\r\nexport default Cart;","import Cart from \"./Cart\";\r\n\r\nexport default Cart;","import React from \"react\";\r\n\r\n\r\nfunction BasketItem(props) {\r\n    const {\r\n        id,\r\n        name,\r\n        price,\r\n        quantity,\r\n        removeFromBasket = Function.prototype,\r\n        incQuantity = Function.prototype,\r\n        decQuantity = Function.prototype,\r\n    } = props;\r\n    return (\r\n        <li >\r\n            {name}{' '}\r\n\r\n\r\n            <i\r\n                className='bi bi-dash-square'\r\n                onClick={() => decQuantity(id)}\r\n            >\r\n                {/*REMOVE*/}\r\n            </i>{' '}\r\n            x{quantity}{' '}\r\n\r\n\r\n\r\n            <i\r\n                className='bi bi-plus-square'\r\n                onClick={() => incQuantity(id)}\r\n            >\r\n                {/*ADD*/}\r\n            </i>{' '}\r\n            = {price * quantity} руб.\r\n\r\n\r\n            <span\r\n\r\n                onClick={() => removeFromBasket(id)}\r\n            >\r\n\r\n            </span>\r\n        </li>\r\n    );\r\n}\r\n\r\nexport default BasketItem;","import BasketItem from \"./Basket-item\";\r\nexport default BasketItem;","import React from \"react\";\r\nimport BasketItem from \"../Basket-item\";\r\n\r\nfunction BasketList(props) {\r\n    const {\r\n        order = [],\r\n        handleBasketShow = Function.prototype,\r\n        removeFromBasket = Function.prototype,\r\n        incQuantity,\r\n        decQuantity,\r\n    } = props;\r\n\r\n    const totalPrice = order.reduce((sum, el) => {\r\n        return sum + el.price * el.quantity;\r\n    }, 0);\r\n\r\n    return (\r\n    <div className=\"modal\" tabIndex=\"-1\">\r\n        <div className=\"modal-dialog\">\r\n            <div className=\"modal-content\">\r\n                <div className=\"modal-header\">\r\n                    <h5 className=\"modal-title\">Корзина</h5>\r\n                    <button onClick={handleBasketShow} type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\">\r\n\r\n                    </button>\r\n                </div>\r\n                <div className=\"modal-body\">\r\n                    <ul>\r\n\r\n                    {order.length ? (\r\n                        order.map((item) => (\r\n                            <BasketItem\r\n                                key={item.id}\r\n                                removeFromBasket={removeFromBasket}\r\n                                incQuantity={incQuantity}\r\n                                decQuantity={decQuantity}\r\n                                {...item}\r\n                            />\r\n                        ))\r\n                    ) : (\r\n                        <li >Корзина пуста</li>\r\n                    )}\r\n                    <li>\r\n                        Общая стоимость: {totalPrice} руб.\r\n                    </li>\r\n                    </ul>\r\n                </div>\r\n                <div className=\"modal-footer\">\r\n                    <button type=\"button\" className=\"btn btn-primary\">Оформить</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    );\r\n}\r\n\r\nexport default BasketList;","import BasketList from \"./Basket-list\";\r\n\r\nexport default BasketList;","\r\n\r\nimport React, { useEffect }  from \"react\";\r\n\r\nfunction Alert(props) {\r\n    const { name = '', closeAlert = Function.prototype } = props;\r\n\r\n    useEffect(() => {\r\n        const timerId = setTimeout(closeAlert, 3000);\r\n\r\n        return () => {\r\n            console.log('Alert');\r\n            clearTimeout(timerId);\r\n        };\r\n        // eslint-disable-next-line\r\n    }, [name]);\r\n\r\n    return (\r\n        <div id='toast-container'>\r\n            <div className='toast'>{name} добавлен в корзину</div>\r\n        </div>\r\n    );\r\n}\r\nexport default Alert;","import Alert from \"./Alert\";\r\n\r\nexport default Alert;","const API_KEY = process.env.REACT_APP_API_KEY;\r\n\r\nconst API_URL = 'https://fortniteapi.io/v1/shop?lang=ru';\r\n\r\n\r\nconsole.log(process.env.REACT_APP_API_KEY);\r\nexport { API_KEY, API_URL };\r\n","import React, {useState, useEffect} from \"react\";\r\nimport GoodsList from \"../component/Goods-list\";\r\nimport Preloader from \"../component/Preloader\";\r\nimport Cart from \"../component/Cart\";\r\nimport BasketList from \"../component/Basket-list\";\r\nimport Alert from \"../component/Alert\";\r\n\r\nimport { API_KEY, API_URL } from '../config';\r\n\r\n\r\nfunction Main(){\r\n    const [goods, setGoods] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [order, setOrder] = useState([]);\r\n    const [isBasketShow, setBasketSow] = useState(false);\r\n    const [alertName, setAlertName] = useState('');\r\n\r\n\r\n    const addToBasket = (item) => {\r\n        const itemIndex = order.findIndex(\r\n            (orderItem) => orderItem.id === item.id\r\n        );\r\n\r\n        if (itemIndex < 0) {\r\n            const newItem = {\r\n                ...item,\r\n                quantity: 1,\r\n            };\r\n            setOrder([...order, newItem]);\r\n        } else {\r\n            const newOrder = order.map((orderItem, index) => {\r\n                if (index === itemIndex) {\r\n                    return {\r\n                        ...orderItem,\r\n                        quantity: orderItem.quantity + 1,\r\n                    };\r\n                } else {\r\n                    return orderItem;\r\n                }\r\n            });\r\n\r\n            setOrder(newOrder);\r\n        }\r\n        setAlertName(item.name);\r\n    };\r\n\r\n    const removeFromBasket = (itemId) => {\r\n        const newOrder = order.filter((el) => el.id !== itemId);\r\n        setOrder(newOrder);\r\n    };\r\n\r\n    const incQuantity = (itemId) => {\r\n        const newOrder = order.map((el) => {\r\n            if (el.id === itemId) {\r\n                const newQuantity = el.quantity + 1;\r\n                return {\r\n                    ...el,\r\n                    quantity: newQuantity,\r\n                };\r\n            } else {\r\n                return el;\r\n            }\r\n        });\r\n        setOrder(newOrder);\r\n    };\r\n    const decQuantity = (itemId) => {\r\n        const newOrder = order.map((el) => {\r\n            if (el.id === itemId) {\r\n                const newQuantity = el.quantity - 1;\r\n                return {\r\n                    ...el,\r\n                    quantity: newQuantity >= 0 ? newQuantity : 0,\r\n                };\r\n            } else {\r\n                return el;\r\n            }\r\n        });\r\n        setOrder(newOrder);\r\n    };\r\n\r\n    const handleBasketShow = () => {\r\n        setBasketSow(!isBasketShow);\r\n    };\r\n    const closeAlert = () => {\r\n        setAlertName('');\r\n    };\r\n\r\n    useEffect(function getGoods() {\r\n        fetch(API_URL, {\r\n            headers: {\r\n                Authorization: API_KEY,\r\n            },\r\n        })\r\n            .then((response) => response.json())\r\n            .then((data) => {\r\n                data.featured && setGoods(data.featured);\r\n                setLoading(false);\r\n            });\r\n    }, []);\r\n\r\nreturn(\r\n    <main className=\"container content\">\r\n        <Cart quantity={order.length} handleBasketShow={handleBasketShow}/>\r\n        {loading ? (\r\n            <Preloader />\r\n        ) : (\r\n            <GoodsList goods={goods} addToBasket={addToBasket} />\r\n        )}\r\n\r\n        {isBasketShow && (\r\n            <BasketList\r\n                order={order}\r\n                handleBasketShow={handleBasketShow}\r\n                removeFromBasket={removeFromBasket}\r\n                incQuantity={incQuantity}\r\n                decQuantity={decQuantity}\r\n            />\r\n        )}\r\n        {alertName && <Alert name={alertName} closeAlert={closeAlert} />}\r\n            </main>\r\n)\r\n}\r\n\r\nexport default Main;","import Main from \"./main\";\r\n\r\nexport default Main;","import React from \"react\";\n\nimport Header from \"../Header\";\nimport Footer from \"../Footer\";\nimport Main from \"../../main\";\n\nfunction App() {\n\n    return (\n        <div className=\"App\">\n            <Header/>\n            <Main />\n            <Footer />\n        </div>\n    );\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './component/App/App';\n\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}