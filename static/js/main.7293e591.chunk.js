(this["webpackJsonpshowcase-app"]=this["webpackJsonpshowcase-app"]||[]).push([[0],{13:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(7),i=a.n(n),s=(a(13),a(0));var r=function(){return Object(s.jsx)("nav",{className:"navbar navbar-light bg-light",children:Object(s.jsxs)("div",{className:"d-flex px-3 ",children:[Object(s.jsx)("i",{className:"bi bi-square-fill mt-2",fill:"currentColor"}),Object(s.jsx)("h3",{className:"px-2",children:"React Shop"})]})})};var o=function(){return Object(s.jsxs)("div",{className:" text-center",children:[Object(s.jsxs)("div",{className:"card-header",children:[Object(s.jsx)("i",{className:"bi bi-square-fill me-1",fill:"currentColor"}),"React Shop"]}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("h5",{className:"card-title",children:"Special title treatment"}),Object(s.jsx)("p",{className:"card-text",children:"With supporting text below as a natural lead-in to additional content."})]}),Object(s.jsx)("div",{className:"card-footer text-muted",children:"\xa9 2021 Ek-prog"})]})},d=a(8),l=a(2),j=a(3);var b=function(e){var t=e.id,a=e.name,c=e.description,n=e.price,i=e.full_background,r=e.addToBasket,o=void 0===r?Function.prototype:r;return Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("img",{src:i,className:"cart-img",alt:a}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("h5",{className:"card-title",children:a}),Object(s.jsx)("p",{className:"card-text",children:c}),Object(s.jsxs)("h3",{className:"card-text",children:[n," RUB"]}),Object(s.jsx)("button",{onClick:function(){return o({id:t,name:a,price:n})},className:"btn btn-primary",children:"Add"})]})]})};var u=function(e){var t=e.goods,a=void 0===t?[]:t,c=e.addToBasket,n=void 0===c?Function.prototype:c;return a.length?Object(s.jsx)("div",{className:"goods",children:a.map((function(e){return Object(s.jsx)(b,Object(l.a)(Object(l.a)({},e),{},{addToBasket:n}),e.id)}))}):Object(s.jsx)("h3",{children:"Nothing here, try again in a few minutes"})};var m=function(){return Object(s.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(s.jsx)("strong",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),Object(s.jsx)("div",{className:"spinner-border ms-auto",role:"status","aria-hidden":"true"})]})};var O=function(e){var t=e.quantity,a=void 0===t?0:t,c=e.handleBasketShow,n=void 0===c?Function.prototype:c;return Object(s.jsxs)("div",{className:"cart",onClick:n,children:[Object(s.jsx)("i",{className:"bi bi-cart3"}),a?Object(s.jsx)("span",{className:"cart-quantity",children:a}):null]})};var h=function(e){var t=e.id,a=e.name,c=e.price,n=e.quantity,i=e.removeFromBasket,r=void 0===i?Function.prototype:i,o=e.incQuantity,d=void 0===o?Function.prototype:o,l=e.decQuantity,j=void 0===l?Function.prototype:l;return Object(s.jsxs)("li",{children:[a," ",Object(s.jsx)("i",{className:"bi bi-dash-square",onClick:function(){return j(t)}})," ","x",n," ",Object(s.jsx)("i",{className:"bi bi-plus-square",onClick:function(){return d(t)}})," ","= ",c*n," \u0440\u0443\u0431.",Object(s.jsx)("span",{onClick:function(){return r(t)},children:Object(s.jsx)("i",{className:"bi bi-trash-fill"})})]})};var v=function(e){var t=e.order,a=void 0===t?[]:t,c=e.handleBasketShow,n=void 0===c?Function.prototype:c,i=e.removeFromBasket,r=void 0===i?Function.prototype:i,o=e.incQuantity,d=e.decQuantity,j=a.reduce((function(e,t){return e+t.price*t.quantity}),0);return Object(s.jsx)("div",{className:"modal",tabIndex:"-1",children:Object(s.jsx)("div",{className:"modal-dialog",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),Object(s.jsx)("button",{onClick:n,type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(s.jsx)("div",{className:"modal-body",children:Object(s.jsxs)("ul",{children:[a.length?a.map((function(e){return Object(s.jsx)(h,Object(l.a)({removeFromBasket:r,incQuantity:o,decQuantity:d},e),e.id)})):Object(s.jsx)("li",{children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430"}),Object(s.jsxs)("li",{children:["\u041e\u0431\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c: ",j," \u0440\u0443\u0431."]})]})}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("button",{type:"button",className:"btn btn-primary",children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c"})})]})})})};var x=function(e){var t=e.name,a=void 0===t?"":t,n=e.closeAlert,i=void 0===n?Function.prototype:n;return Object(c.useEffect)((function(){var e=setTimeout(i,3e3);return function(){clearTimeout(e)}}),[a]),Object(s.jsx)("div",{className:"position-fixed top-50 end-0 translate-middle-y p-3 divAlert",children:Object(s.jsx)("div",{id:"liveToast",className:" hide",role:"alert","aria-live":"assertive","aria-atomic":"true",children:Object(s.jsxs)("div",{className:"toast-body",children:[a," \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"]})})})};console.log("bdeb8c47-2e2ab1b5-820b0951-151b945b");var p=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),a=t[0],n=t[1],i=Object(c.useState)(!0),r=Object(j.a)(i,2),o=r[0],b=r[1],h=Object(c.useState)([]),p=Object(j.a)(h,2),f=p[0],N=p[1],y=Object(c.useState)(!1),g=Object(j.a)(y,2),k=g[0],q=g[1],B=Object(c.useState)(""),F=Object(j.a)(B,2),S=F[0],w=F[1],C=function(){q(!k)};return Object(c.useEffect)((function(){fetch("https://fortniteapi.io/v1/shop?lang=ru",{headers:{Authorization:"bdeb8c47-2e2ab1b5-820b0951-151b945b"}}).then((function(e){return e.json()})).then((function(e){e.featured&&n(e.featured),b(!1)}))}),[]),Object(s.jsxs)("main",{className:"container content",children:[Object(s.jsx)(O,{quantity:f.length,handleBasketShow:C}),o?Object(s.jsx)(m,{}):Object(s.jsx)(u,{goods:a,addToBasket:function(e){var t=f.findIndex((function(t){return t.id===e.id}));if(t<0){var a=Object(l.a)(Object(l.a)({},e),{},{quantity:1});N([].concat(Object(d.a)(f),[a]))}else{var c=f.map((function(e,a){return a===t?Object(l.a)(Object(l.a)({},e),{},{quantity:e.quantity+1}):e}));N(c)}w(e.name)}}),k&&Object(s.jsx)(v,{order:f,handleBasketShow:C,removeFromBasket:function(e){var t=f.filter((function(t){return t.id!==e}));N(t)},incQuantity:function(e){var t=f.map((function(t){if(t.id===e){var a=t.quantity+1;return Object(l.a)(Object(l.a)({},t),{},{quantity:a})}return t}));N(t)},decQuantity:function(e){var t=f.map((function(t){if(t.id===e){var a=t.quantity-1;return Object(l.a)(Object(l.a)({},t),{},{quantity:a>=0?a:0})}return t}));N(t)}}),S&&Object(s.jsx)(x,{name:S,closeAlert:function(){w("")}})]})};var f=function(){return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(r,{}),Object(s.jsx)(p,{}),Object(s.jsx)(o,{})]})};i.a.render(Object(s.jsx)(f,{}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.7293e591.chunk.js.map